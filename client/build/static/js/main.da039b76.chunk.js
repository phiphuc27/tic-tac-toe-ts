(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{88:function(e,t,r){},95:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(9),o=r.n(c),i=(r(88),r(31)),s=r(13),l=r(123),u=r(2),j=function(e){var t=e.size,r=void 0===t?"lg":t,n=e.children;return Object(u.jsx)(l.a,{maxWidth:r,children:n})},b=r(134),d=r(30),h=r(45),m=r(53),f=r(26),p=r(16),O=r(17),v=r.n(O),x=20,g=Math.floor(32.8),w="X",y="O",_={board:Array(x).fill(0).map((function(){return Array(x).fill("")})),isTurn:!0,winner:{name:"",moves:[]},history:[],step:0,score:{X:0,O:0},opponent:"player"},k=Object(h.b)({name:"game",initialState:_,reducers:{clickSquare:function(e,t){var r=t.payload,n=r.board,a=r.square;e.board=n,e.isTurn=!e.isTurn,e.history=[].concat(Object(d.a)(e.history.splice(0,e.step)),[a]),e.step+=1},setWinner:function(e,t){var r=t.payload.winner;e.winner=v.a.cloneDeep(r),e.score[r.name]+=1},moveJump:function(e,t){var r=t.payload,n=r.board,a=r.step;e.board=n,e.isTurn=a%2===0,e.step=a,e.winner=v.a.cloneDeep(_.winner)},subtractScore:function(e,t){var r=t.payload,n=r.name,a=r.point;e.score[n]-=a},setOpponent:function(e,t){var r=t.payload.opponent;e.opponent=r},newGame:function(e){var t=e.score,r=e.opponent;return Object(p.a)(Object(p.a)({},_),{},{score:t,opponent:r})},quitGame:function(){return _}}}),C=k.actions,q=k.reducer,T=C.clickSquare,S=C.moveJump,N=C.newGame,D=C.quitGame,X=C.setOpponent,I=C.setWinner,R=C.subtractScore,E=q,G=Object(f.b)({game:E}),M=Object(d.a)(Object(h.c)()),L=Object(h.a)({reducer:G,middleware:M}),W=(L.dispatch,function(){return Object(m.b)()}),z=m.c,A=L,B=r(146),H=r(126),J=r(62),P=function(e,t){var r=e.row,n=e.col,a=e.value,c=[];c.push({row:r,col:n});for(var o=n+1,i=n-1;t[r][o]===a;)c.push({row:r,col:o}),o++;for(;t[r][i]===a;)c.push({row:r,col:i}),i--;var s=c.sort((function(e,t){return e.col-t.col}));return 5===s.length&&t[r][i]!==a&&t[r][o]!==a?{sort:s,win:!0}:{sort:s,win:!1}},U=function(e,t){var r=e.row,n=e.col,a=e.value,c=[];c.push({row:r,col:n});for(var o=r+1,i=r-1;t[o]&&t[o][n]===a;)c.push({row:o,col:n}),o++;for(;t[i]&&t[i][n]===a;)c.push({row:i,col:n}),i--;var s=c.sort((function(e,t){return e.row-t.row}));return 5!==s.length||t[i]&&t[i][n]===a||t[o]&&t[o][n]===a?{sort:s,win:!1}:{sort:s,win:!0}},V=function(e,t){var r=e.row,n=e.col,a=e.value,c=[];c.push({row:r,col:n});for(var o=r+1,i=n+1,s=r-1,l=n-1;t[o]&&t[o][i]===a;)c.push({row:o,col:i}),o++,i++;for(;t[s]&&t[s][l]===a;)c.push({row:s,col:l}),s--,l--;var u=c.sort((function(e,t){return e.row-t.row}));return 5!==u.length||t[s]&&t[s][l]===a||t[o]&&t[o][i]===a?{sort:u,win:!1}:{sort:u,win:!0}},F=function(e,t){var r=e.row,n=e.col,a=e.value,c=[];c.push({row:r,col:n});for(var o=r-1,i=n+1,s=r+1,l=n-1;t[o]&&t[o][i]===a;)c.push({row:o,col:i}),o--,i++;for(;t[s]&&t[s][l]===a;)c.push({row:s,col:l}),s++,l--;var u=c.sort((function(e,t){return e.col-t.col}));return 5!==u.length||t[s]&&t[s][l]===a||t[o]&&t[o][i]===a?{sort:u,win:!1}:{sort:u,win:!0}},Q=function(e,t){var r=t.some((function(e){return e.some((function(e){return""===e}))})),n=e.value,a=[P(e,t),U(e,t),V(e,t),F(e,t)].sort((function(e,t){return t.sort.length-e.sort.length}))[0];return 5===a.sort.length&&a.win?{name:n,moves:a.sort}:r?{name:"",moves:a.sort}:{name:"draw",moves:a.sort}},K=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,i=t.square,s=t.score,l=Q(i,r),u=Y(i,r);if(l.name||0===n)return l.name===w?s+n:l.name===y?s-n:s;if(a){var j,b=-1/0,d=Object(J.a)(u);try{for(d.s();!(j=d.n()).done;){var h=j.value,m=h.square,f=v.a.cloneDeep(r);f[m.row][m.col]=y;var p=e(h,f,n+1,!0,c,o);if(b=Math.max(b,p),o<=(c=Math.max(c,b)))break}}catch(T){d.e(T)}finally{d.f()}return b}var O,x=1/0,g=Object(J.a)(u);try{for(g.s();!(O=g.n()).done;){var _=O.value,k=_.square,C=v.a.cloneDeep(r);C[k.row][k.col]=w;var q=e(_,C,n+1,!0,c,o);if(x=Math.min(x,q),(o=Math.min(o,x))<=c)break}}catch(T){g.e(T)}finally{g.f()}return x},Y=function(e,t){var r=[],n=-1/0,a=v.a.cloneDeep(t);if(!e.value)return r;var c=e.value===w?y:w;return a.forEach((function(t,o){t.forEach((function(t,i){if(!t){t=e.value;var s={row:o,col:i,value:e.value},l={row:o,col:i,value:c},u=Q(s,a),j=Q(l,a),b=u.moves.length,d=j.moves.length,h=Math.abs(b-d)*x-Math.max(o,i);n=Math.max(h,n);var m=t===w?-h:h;r.push({square:s,score:m})}}))})),r.filter((function(e){return e.score===n||e.score===-n}))},Z=function(e){var t,r={row:0,col:0,value:y},n=Y(r,e),a=-1/0,c=Object(J.a)(n);try{for(c.s();!(t=c.n()).done;){var o=t.value,i=o.square,s=v.a.cloneDeep(e);s[i.row][i.col]=i.value;var l=K(o,s,0,!1,-1/0,1/0);l>=a&&(r.row=i.row,r.col=i.col,a=l)}}catch(u){c.e(u)}finally{c.f()}return r},$=function(e){return function(t,r){var n=r().game,a=n.history,c=n.winner;c.name&&"draw"!==c.name&&t(R({name:c.name,point:1}));var o=Array(x).fill(0).map((function(){return Array(x).fill("")})),i=Object(d.a)(a).splice(0,e),s=i[e-1];if(i.forEach((function(e){o[e.row][e.col]=e.value})),t(S({board:o,step:e})),s){var l=Q(s,o);l.name&&t(I({winner:l}))}}},ee=r(148),te=r(44),re=r(127),ne=r(128),ae=Object(H.a)((function(e){var t=e.palette;return Object(ee.a)({square:function(e){var t=e.bgColor,r=e.current;return{background:t,border:"1px solid #999",width:"".concat(g,"px"),height:"".concat(g,"px"),marginRight:"-1px",marginTop:"-1px",padding:0,cursor:"pointer",filter:r?"brightness(90%)":"",transition:"background 300ms ease-in"}},square__text:{width:"".concat(g,"px"),height:"".concat(g,"px"),transition:"color 300ms ease-in"},square__text__x:function(e){return{color:e.color||t.primary.main}},square__text__o:function(e){return{color:e.color||t.secondary.main}}})})),ce=function(e){var t=e.winner,r=e.value,n=e.handleClick,a=e.current,c=Object(te.a)().palette,o={X_COLOR:c.primary.main,O_COLOR:c.secondary.main},i={color:"",bgColor:"#fff",current:a};(null===t||void 0===t?void 0:t.name)===r&&(i.color="#fff",t.name===w&&(i.bgColor=o.X_COLOR),t.name===y&&(i.bgColor=o.O_COLOR));var s=ae(i);return Object(u.jsx)("div",{onClick:n,className:s.square,children:"X"===r?Object(u.jsx)(re.a,{fontSize:"large",className:"".concat(s.square__text," ").concat(s.square__text__x)}):"O"===r&&Object(u.jsx)(ne.a,{fontSize:"large",className:"".concat(s.square__text," ").concat(s.square__text__o)})})},oe=Object(H.a)({board:{display:"flex",justifyContent:"center",alignItems:"center"}}),ie=function(){var e=oe(),t=W(),r=z((function(e){return e.game})),a=r.board,c=r.winner,o=r.isTurn,i=r.history,l=r.step,j=Object(s.g)().mode,b=i[l-1];Object(n.useEffect)((function(){return t(X(j)),function(){t(D())}}),[t,j]),Object(n.useEffect)((function(){o||"computer"!==j||c.name||t((function(e,t){var r=t().game.board,n=v.a.cloneDeep(r),a=Z(n);n[a.row][a.col]=a.value,e(T({square:a,board:n}));var c=Q(a,n);c.name&&e(I({winner:c}))}))}),[t,o,j,c]);var d=function(e,r){var n;c.name||a[e][r]||t((n={row:e,col:r,value:o?w:y},function(e,t){var r=t().game.board,a=v.a.cloneDeep(r);a[n.row][n.col]=n.value,e(T({square:n,board:a}));var c=Q(n,a);c.name&&e(I({winner:c}))}))};return Object(u.jsx)(B.a,{children:a.map((function(t,r){return Object(u.jsx)("div",{className:e.board,children:t.map((function(e,t){return Object(u.jsx)(ce,{winner:c.name&&v.a.some(c.moves,{row:r,col:t})?c:null,value:e,current:b&&v.a.isEqual(b,{row:r,col:t}),handleClick:function(){return d(r,t)}},r*x+t)}))},r)}))})},se=r(61),le=r(97),ue=r(140),je=r(54),be=r(136),de=r(137),he=r(138),me=r(139),fe=r(35),pe=["children","gap"],Oe=function(e){var t=e.children,r=e.gap,n=void 0===r?0:r,a=Object(fe.a)(e,pe),c=8*n;return Object(u.jsx)(B.a,Object(p.a)(Object(p.a)({},a),{},{display:"flex",style:{gap:"".concat(c,"px"),marginBottom:"".concat(c,"px")},children:t}))},ve=r(129),xe=["children"],ge=function(e){var t=e.children,r=Object(fe.a)(e,xe);return Object(u.jsx)(ve.a,Object(p.a)(Object(p.a)({},r),{},{variant:"contained",color:"primary",fullWidth:!0,children:t}))},we=r(98),ye=r(132),_e=r(147),ke=r(133),Ce=r(135),qe=r(131),Te=r(130),Se=r(149),Ne=r(145),De=["name","variant","children"],Xe=function(e){var t=e.name,r=e.variant,n=void 0===r?"standard":r,a=e.children,c=Object(fe.a)(e,De);return Object(u.jsxs)(Te.a,{variant:n,style:{minWidth:"10rem"},children:[Object(u.jsx)(Se.a,{id:"".concat(t.toLowerCase(),"-label"),children:t}),Object(u.jsx)(Ne.a,Object(p.a)(Object(p.a)({},c),{},{labelId:"".concat(t.toLowerCase(),"-label"),label:t,id:"".concat(t.toLowerCase(),"-select"),children:a}))]})},Ie=function(){var e=W(),t=Object(n.useState)(!0),r=Object(se.a)(t,2),a=r[0],c=r[1],o=z((function(e){return e.game})),i=o.history,s=o.step,l=o.opponent,j=Object(n.useRef)([]);Object(n.useEffect)((function(){j.current[s]&&j.current[s].scrollIntoView({behavior:"smooth"})}),[s,a]);var h=Object(d.a)(i),m=(h=[{row:-1,col:-1,value:"Go to game start"}].concat(Object(d.a)(h))).map((function(t,r){var n="history-list-label-".concat(r),a=0===r?t.value:"".concat(t.value," move to square (").concat(t.row+1,", ").concat(t.col+1,")");return Object(u.jsxs)(we.a,{ref:function(e){return j.current[r]=e},dense:!0,button:!0,disabled:"computer"===l&&"X"===t.value,onClick:function(){return e($(r))},children:[Object(u.jsx)(ye.a,{children:Object(u.jsx)(_e.a,{color:"primary",checked:s===r,inputProps:{"aria-labelledby":n}})}),Object(u.jsx)(ke.a,{id:n,primary:a,primaryTypographyProps:{variant:"button"}})]},r)}));return Object(u.jsxs)(B.a,{children:[Object(u.jsxs)(b.a,{container:!0,alignItems:"center",spacing:2,children:[Object(u.jsx)(b.a,{item:!0,xs:2,children:Object(u.jsx)(je.a,{variant:"h6",children:"History"})}),Object(u.jsx)(b.a,{item:!0,xs:4,children:Object(u.jsxs)(Xe,{variant:"outlined",name:"Sort",defaultValue:Number(a),onChange:function(){return c(!a)},children:[Object(u.jsx)(Ce.a,{value:1,children:"Ascending"}),Object(u.jsx)(Ce.a,{value:0,children:"Descending"})]})})]}),Object(u.jsx)(qe.a,{style:{maxHeight:"300px",overflow:"auto",marginTop:"1rem"},children:a?m.sort((function(e,t){return e.key-t.key})):m.sort((function(e,t){return t.key-e.key}))})]})},Re=function(){var e=W(),t=z((function(e){return e.game})),r=t.winner,a=t.isTurn,c=t.step,o=t.history,i=t.score,l=t.opponent,j=Object(n.useState)(""),b=Object(se.a)(j,2),d=b[0],h=b[1],m=Object(s.f)();return Object(n.useEffect)((function(){if(r.name){var e=r.name;h("draw"===e?"Draw":"Winner: ".concat(e.toUpperCase()))}else h("Next Player: ".concat(a?"X":"O"))}),[r,a]),Object(u.jsx)(le.a,{elevation:1,style:{height:"100%",minHeight:"640px"},children:Object(u.jsxs)(B.a,{padding:2,children:[Object(u.jsxs)(B.a,{children:[Object(u.jsxs)(Oe,{gap:1,children:[Object(u.jsx)(ge,{startIcon:Object(u.jsx)(be.a,{}),onClick:function(){return e(N())},children:"New Game"}),Object(u.jsx)(ge,{startIcon:Object(u.jsx)(de.a,{}),onClick:function(){return m.push("/")},children:"Quit Game"})]}),Object(u.jsxs)(Oe,{gap:1,children:[Object(u.jsx)(ge,{startIcon:Object(u.jsx)(he.a,{}),onClick:function(){return e($("player"===l?c-1:c-2))},disabled:c<1,children:"Undo"}),Object(u.jsx)(ge,{startIcon:Object(u.jsx)(me.a,{}),onClick:function(){return e($("player"===l?c+1:c+2))},disabled:c>=o.length,children:"Redo"})]})]}),Object(u.jsx)(ue.a,{style:{margin:"1rem 0"}}),Object(u.jsxs)(B.a,{children:[Object(u.jsx)(je.a,{variant:"h6",children:d}),Object(u.jsx)(je.a,{variant:"h6",display:"inline",children:"Score"}),Object(u.jsxs)(B.a,{display:"inline-flex",justifyContent:"space-evenly",width:"60%",children:[Object(u.jsxs)(je.a,{variant:"h6",children:["X: ",i.X]}),Object(u.jsxs)(je.a,{variant:"h6",children:["O: ",i.O]})]})]}),Object(u.jsx)(ue.a,{style:{margin:"1rem 0"}}),Object(u.jsx)(Ie,{})]})})},Ee=function(){return Object(u.jsxs)(b.a,{container:!0,spacing:3,children:[Object(u.jsx)(b.a,{item:!0,style:{display:"grid",alignItems:"center"},xs:7,children:Object(u.jsx)(ie,{})}),Object(u.jsx)(b.a,{item:!0,xs:5,children:Object(u.jsx)(Re,{})})]})},Ge=r(142),Me=r(143),Le=r(141),We=["children"],ze=Object(H.a)((function(e){var t=e.palette;return Object(ee.a)({menu__item:{position:"relative","&::after":{content:'""',position:"absolute",bottom:"-5px",left:"0",width:"100%",height:"2px",backgroundColor:t.primary.dark,transform:"scaleX(0%)",transformOrigin:"right",transition:"transform 250ms ease-out"},"&:hover,&:focus":{outline:"none",textDecoration:"none"},"&:hover::after, &:focus::after":{transform:"scaleX(100%)",transformOrigin:"left"}},active:{"&::after":{transform:"scaleX(100%)"}}})})),Ae=function(e){var t=e.children,r=Object(fe.a)(e,We),n=ze();return Object(u.jsx)("li",{children:Object(u.jsx)(Le.a,Object(p.a)(Object(p.a)({},r),{},{component:i.b,className:n.menu__item,activeClassName:n.active,color:"inherit",exact:!0,children:t}))})},Be=Object(H.a)((function(e){var t=e.typography;return Object(ee.a)({menu:{listStyle:"none",display:"flex",flexGrow:1,gap:"1rem",fontSize:t.subtitle2.fontSize,fontWeight:"bold",textTransform:"uppercase",letterSpacing:"2px","& span":{textTransform:"lowercase"}}})})),He=function(){var e=Be();return Object(u.jsxs)("ul",{className:e.menu,children:[Object(u.jsx)(Ae,{to:"/",children:"Home"}),Object(u.jsxs)(Ae,{to:"/game/player",children:[Object(u.jsx)("span",{children:"vs"}),"Player"]}),Object(u.jsxs)(Ae,{to:"/game/computer",children:[Object(u.jsx)("span",{children:"vs"}),"Computer"]})]})},Je=r.p+"static/media/logo.fe87db53.svg",Pe=Object(H.a)((function(e){var t=e.palette;e.typography;return Object(ee.a)({appBar:{background:t.common.white,color:t.primary.dark,flexGrow:1,marginBottom:"2rem"},link:{display:"flex  ","&:hover":{textDecoration:"none"},"& > img":{width:"30px",height:"30px",objectFit:"cover",marginRight:".8rem"}},title:{fontWeight:500,marginRight:"3rem"}})})),Ue=function(){var e=Pe();return Object(u.jsx)(Ge.a,{position:"static",className:e.appBar,children:Object(u.jsxs)(Me.a,{children:[Object(u.jsx)(je.a,{variant:"h6",className:e.title,children:Object(u.jsxs)(Le.a,{component:i.b,color:"inherit",className:e.link,exact:!0,to:"/",children:[Object(u.jsx)("img",{src:Je,alt:"tic-tac-toe"}),"TicTacToe"]})}),Object(u.jsx)(He,{}),Object(u.jsxs)(Oe,{gap:1,children:[Object(u.jsx)(ve.a,{variant:"contained",color:"primary",children:"Login"}),Object(u.jsx)(ve.a,{variant:"outlined",color:"primary",children:"Register"})]})]})})},Ve=function(){return Object(u.jsx)("div",{children:Object(u.jsx)(je.a,{variant:"h3",color:"primary",align:"center",children:"Tic Tac Toe"})})},Fe=function(){return Object(u.jsxs)(i.a,{children:[Object(u.jsx)(Ue,{}),Object(u.jsx)(j,{children:Object(u.jsxs)(s.c,{children:[Object(u.jsx)(s.a,{exact:!0,path:"/",component:Ve}),Object(u.jsx)(s.a,{exact:!0,path:"/game/:mode",component:Ee})]})})]})},Qe=r(144);o.a.render(Object(u.jsx)(m.a,{store:A,children:Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(Qe.a,{children:Object(u.jsx)(Fe,{})})})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.da039b76.chunk.js.map